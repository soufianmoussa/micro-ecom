<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MicroStore - All Products</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <a href="index.html" class="logo">MicroStore.</a>
        <div class="nav-center">
            <a href="index.html" class="nav-link">Home</a>
            <a href="products.html" class="nav-link" style="color:var(--accent-color)">Products</a>
            <a href="index.html#footer" class="nav-link">Contact</a>
        </div>
        <div class="nav-icons">
            <span id="user-greeting"
                style="display:none; font-size:0.9rem; margin-right:1rem; color:var(--text-light);"></span>
            <button id="btn-login" class="nav-icon-btn"><i class="ph ph-sign-in"></i></button>
            <button id="btn-register" class="nav-icon-btn"><i class="ph ph-user-plus"></i></button>
            <button id="btn-profile" class="nav-icon-btn" style="display:none;"><i
                    class="ph ph-user-circle"></i></button>
            <button id="btn-logout" class="nav-icon-btn" style="display:none;"><i class="ph ph-sign-out"></i></button>
            <button id="btn-cart" class="nav-icon-btn" style="position:relative;">
                <i class="ph ph-shopping-cart"></i>
                <span id="cart-count" class="cart-badge">0</span>
            </button>
        </div>
    </nav>

    <!-- Split Layout -->
    <div class="container" style="display:flex; gap:2rem; margin-top:3rem; margin-bottom:4rem; align-items:flex-start;">

        <!-- Sidebar -->
        <aside style="width: 250px; flex-shrink:0;">
            <!-- Search -->
            <div style="margin-bottom:2rem;">
                <h4 style="margin-bottom:0.5rem; color:var(--primary-color);">Search</h4>
                <input type="text" id="filter-search" placeholder="Keyword..."
                    style="width:100%; padding:0.5rem; border:1px solid #ddd; border-radius:4px;"
                    oninput="debounceSearch()">
            </div>

            <!-- Categories -->
            <h4 style="margin-bottom:0.5rem; color:var(--primary-color);">Categories</h4>
            <div id="sidebar-categories" style="display:flex; flex-direction:column; gap:0.5rem; margin-bottom:2rem;">
                <!-- Injected -->
            </div>

            <!-- Price Range -->
            <div style="margin-bottom:2rem;">
                <h4 style="margin-bottom:0.5rem; color:var(--primary-color);">Price Range</h4>
                <div style="display:flex; gap:0.5rem;">
                    <input type="number" id="filter-min" placeholder="Min"
                        style="width:100px; padding:0.5rem; border:1px solid #ddd; border-radius:4px;">
                    <input type="number" id="filter-max" placeholder="Max"
                        style="width:100px; padding:0.5rem; border:1px solid #ddd; border-radius:4px;">
                </div>
                <button onclick="applyFilters()" class="btn-primary"
                    style="margin-top:0.5rem; width:100%; font-size:0.9rem;">Apply</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main style="flex-grow:1;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
                <h2 style="font-size:2rem; font-weight:800; margin:0;">
                    <span id="page-title">All Products</span>
                    <span id="results-count"
                        style="font-size:1rem; font-weight:400; color:var(--text-light); vertical-align:middle;">(0)</span>
                </h2>

                <!-- Sort -->
                <div>
                    <select id="sort-select" onchange="applyFilters()"
                        style="padding:0.5rem; border:1px solid #ddd; border-radius:4px; font-family:inherit;">
                        <option value="">Sort By: Default</option>
                        <option value="price_asc">Price: Low to High</option>
                        <option value="price_desc">Price: High to Low</option>
                        <option value="newest">Newest First</option>
                    </select>
                </div>
            </div>

            <!-- Grid -->
            <div id="products-grid" class="products-grid"
                style="grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));">
                <!-- Injected -->
            </div>

            <!-- Pagination -->
            <div id="pagination" style="display:flex; justify-content:center; gap:0.5rem; margin-top:3rem;">
                <!-- Injected -->
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-content">
            <div class="footer-brand">
                <h3>MicroStore.</h3>
                <p>Premium microservices-based e-commerce.</p>
            </div>
            <div class="footer-links">
                <h4>Links</h4>
                <a href="index.html">Home</a>
                <a href="products.html">Products</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Soufiane Moussa and Soufiane Laaroussi. All rights reserved.</p>
        </div>
    </footer>

    <!-- Similar Modals as Index -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-modal">&times;</span>
            <h2 id="modal-title" style="margin-bottom: 1.5rem;">Login</h2>
            <form id="auth-form">
                <div class="form-group" id="group-name" style="display: none;">
                    <label>Name</label>
                    <input type="text" id="inp-name" placeholder="John Doe">
                </div>
                <div class="form-group" id="group-email">
                    <label>Email</label>
                    <input type="email" id="inp-email" placeholder="john@example.com" required>
                </div>
                <div class="form-group" id="group-pass">
                    <label>Password</label>
                    <input type="password" id="inp-pass" placeholder="******" required>
                </div>
                <div class="form-group" id="group-address" style="display: none;">
                    <label>Address</label>
                    <input type="text" id="inp-address" placeholder="123 Main St">
                </div>
                <div class="form-group" id="group-phone" style="display: none;">
                    <label>Phone</label>
                    <input type="tel" id="inp-phone" placeholder="+123456789">
                </div>
                <button type="submit" class="btn-submit">Submit</button>
            </form>
            <p style="margin-top: 1rem; text-align: center; font-size: 0.9rem;">
                <span id="toggle-auth" style="color: var(--accent-color); cursor: pointer;">Need an account? Sign
                    Up</span>
            </p>
        </div>
    </div>

    <!-- Cart Drawer -->
    <div id="cart-panel">
        <div class="cart-header">
            <h2>Your Cart</h2>
            <button id="close-cart"
                style="background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
        <div id="cart-items" class="cart-items"></div>
        <div class="cart-footer">
            <div
                style="display:flex; justify-content:space-between; margin-bottom:1rem; font-weight:700; font-size:1.2rem;">
                <span>Total</span>
                <span id="cart-total">$0.00</span>
            </div>
            <button id="btn-checkout" class="btn-checkout">Place Order</button>
        </div>
    </div>

    <script src="products.js"></script>
</body>

</html>